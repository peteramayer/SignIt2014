/*! opentype.js 2014-05-30 */
(function(){"use strict";function a(a,b){if(!a)throw new Error(b)}function b(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function c(a,b,c,d,e){a.beginPath(),a.moveTo(b,c),a.lineTo(d,e),a.stroke()}function d(a,b){return a.getUint8(b)}function e(a,b){return a.getUint16(b,!1)}function f(a,b){return a.getInt16(b,!1)}function g(a,b){return a.getUint32(b,!1)}function h(a,b){var c,d;return c=a.getInt16(b,!1),d=a.getUint16(b+2,!1),c+d/65535}function i(a,b){var c,d="";for(c=b;b+4>c;c+=1)d+=String.fromCharCode(a.getInt8(c));return d}function j(a,b,c){var d,e;for(e=0,d=0;c>d;d+=1)e<<=8,e+=a.getUint8(b+d);return e}function k(a,b,c){var d,e;for(d=[],e=b;c>e;e+=1)d.push(a.getUint8(e));return d}function l(a){var b,c;for(b="",c=0;c<a.length;c+=1)b+=String.fromCharCode(a[c]);return b}function m(a,b){return 1===(a>>b&1)}function n(a,b){this.data=a,this.isDataView="DataView"===a.constructor.name,this.offset=b,this.relativeOffset=0}function o(a){this.cmap=a}function p(a,b){this.encoding=a,this.charset=b}function q(){}function r(a,b){q.call(this),this.font=a,this.index=b,this.numberOfContours=0,this.xMin=this.yMin=this.xMax=this.yMax=0,this.advanceWidth=0,this.points=[]}function s(a,b){q.call(this),this.font=a,this.index=b,this.numberOfContours=0,this.xMin=this.yMin=this.xMax=this.yMax=0,this.advanceWidth=a.defaultWidthX,this.path=null}function t(){this.supported=!0,this.glyphs=[],this.encoding=null}function u(a,b,c,d,e){var f;return m(b,d)?(f=a.parseByte(),m(b,e)||(f=-f),f=c+f):f=m(b,e)?c:c+a.parseShort(),f}function v(b,c,d,e){var f,g,h,i,j,k,l,o,p,q,s,t,v,w,x,y,z,A,B,C,D,E;if(f=new n(b,c),g=new r(e,d),g.numberOfContours=f.parseShort(),g.xMin=f.parseShort(),g.yMin=f.parseShort(),g.xMax=f.parseShort(),g.yMax=f.parseShort(),g.numberOfContours>0){for(l=g.endPointIndices=[],i=0;i<g.numberOfContours;i+=1)l.push(f.parseUShort());for(g.instructionLength=f.parseUShort(),g.instructions=[],i=0;i<g.instructionLength;i+=1)g.instructions.push(f.parseByte());for(o=l[l.length-1]+1,k=[],i=0;o>i;i+=1)if(h=f.parseByte(),k.push(h),m(h,3))for(p=f.parseByte(),j=0;p>j;j+=1)k.push(h),i+=1;if(a(k.length===o,"Bad flags."),l.length>0){if(q=[],o>0){for(i=0;o>i;i+=1)h=k[i],s={},s.onCurve=m(h,0),s.lastPointOfContour=l.indexOf(i)>=0,q.push(s);for(t=0,i=0;o>i;i+=1)h=k[i],s=q[i],s.x=u(f,h,t,1,4),t=s.x;for(v=0,i=0;o>i;i+=1)h=k[i],s=q[i],s.y=u(f,h,v,2,5),v=s.y}g.points=q}else g.points=[]}else if(0===g.numberOfContours)g.points=[];else for(g.isComposite=!0,g.points=[],g.components=[],x=!0;x;)w={},k=f.parseUShort(),w.glyphIndex=f.parseUShort(),m(k,0)?(y=f.parseShort(),z=f.parseShort(),w.dx=y,w.dy=z):(y=f.parseByte(),z=f.parseByte(),w.dx=y,w.dy=z),m(k,3)?A=f.parseShort():m(k,6)?(B=f.parseShort(),C=f.parseShort()):m(k,7)&&(B=f.parseShort(),D=f.parseShort(),E=f.parseShort(),C=f.parseShort()),g.components.push(w),x=m(k,5);return g}function w(a,b,c){var d,e,f,g;for(d=[],e=0;e<a.length;e+=1)f=a[e],g={x:f.x+b,y:f.y+c,onCurve:f.onCurve,lastPointOfContour:f.lastPointOfContour},d.push(g);return d}function x(a,b,c,d){var e,f,g,h,i,j,k,l,m;for(e=[],f=0;f<c.length-1;f+=1)h=c[f],i=c[f+1],e.push(h!==i?v(a,b+h,f,d):new r(d,f));for(f=0;f<e.length;f+=1)if(j=e[f],j.isComposite)for(g=0;g<j.components.length;g+=1)k=j.components[g],l=e[k.glyphIndex],l.points&&(m=w(l.points,k.dx,k.dy),j.points.push.apply(j.points,m));return e}function y(a,b,c,d){var e,f,g,h,i;for(e=new n(a,b),f=d?e.parseUShort:e.parseULong,g=[],i=0;c+1>i;i+=1)h=f.call(e),d&&(h*=2),g.push(h);return g}function z(b,c){var d,f,h,i,j,k,l,m,p,q,r,s,t;for(d=e(b,c),a(0===d,"cmap table version should be 0."),f=e(b,c+2),h=-1,p=0;f>p;p+=1)if(i=e(b,c+4+8*p),j=e(b,c+4+8*p+2),3===i&&(1===j||0===j)){h=g(b,c+4+8*p+4);break}if(-1===h)return null;for(t=new n(b,c+h),k=t.parseUShort(),a(4===k,"Only format 4 cmap tables are supported."),t.skip("uShort",2),l=t.parseUShort()>>1,t.skip("uShort",3),m=[],p=0;l>p;p+=1)m[p]={end:t.parseUShort()};for(t.skip("uShort"),p=0;l>p;p+=1)m[p].start=t.parseUShort(),m[p].length=m[p].end-m[p].start;for(p=0;l>p;p+=1)m[p].idDelta=t.parseShort();for(p=0;l>p;p+=1)if(r=t.offset+t.relativeOffset,s=t.parseUShort(),s>0)for(m[p].ids=[],q=0;q<m[p].length;q+=1)m[p].ids[q]=e(b,r+s),s+=2;return new o(m)}function A(a,b,c){var e,f,g,h,i,l,m,n,o;if(e=[],f=[],g=X(a,b),0!==g){for(i=d(a,b+2),l=b+(g+1)*i+2,m=b+3,n=0;g+1>n;n+=1)e.push(j(a,m,i)),m+=i;h=l+e[g]}else h=b+2;for(n=0;n<e.length-1;n+=1)o=k(a,l+e[n],l+e[n+1]),c&&(o=c(o)),f.push(o);return{objects:f,startOffset:b,endOffset:h}}function B(a){var b,c,d,e,f,g;for(b="",c=15,d=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){if(e=a.parseByte(),f=e>>4,g=15&e,f===c)break;if(b+=d[f],g===c)break;b+=d[g]}return parseFloat(b)}function C(a,b){var c,d,e,f;if(28===b)return c=a.parseByte(),d=a.parseByte(),c<<8|d;if(29===b)return c=a.parseByte(),d=a.parseByte(),e=a.parseByte(),f=a.parseByte(),c<<24|d<<16|e<<8|f;if(30===b)return B(a);if(b>=32&&246>=b)return b-139;if(b>=247&&250>=b)return c=a.parseByte(),256*(b-247)+c+108;if(b>=251&&254>=b)return c=a.parseByte(),256*-(b-251)-c-108;throw new Error("Invalid b0 "+b)}function D(a){var b,c,d,e,f;for(b={},e=0;e<a.length;e+=1){if(c=a[e][0],d=a[e][1],f=1===d.length?d[0]:d,b.hasOwnProperty(c))throw new Error("Object "+b+" already has key "+c);b[c]=f}return b}function E(a,b,c){var d,e,f,g;for(b=void 0!==b?b:0,d=new n(a,b),e=[],f=[],c=void 0!==c?c:a.length;d.relativeOffset<c;)g=d.parseByte(),21>=g?(12===g&&(g=1200+d.parseByte()),e.push([g,f]),f=[]):f.push(C(d,g));return D(e)}function F(a,b){return b=391>=b?Z[b]:a[b-391]}function G(a,b,c){var d,e,f,g;for(g={},d=0;d<b.length;d+=1)e=b[d],f=a[e.op],void 0===f&&(f=void 0!==e.value?e.value:null),"SID"===e.type&&(f=F(c,f)),g[e.name]=f;return g}function H(a,b){var c={};return c.formatMajor=W(a,b),c.formatMinor=W(a,b+1),c.size=W(a,b+2),c.offsetSize=W(a,b+3),c.startOffset=b,c.endOffset=b+4,c}function I(a,b,c){var d,e;return e=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["number","number","number","number"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[]},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"number",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]}],d=E(a,b),G(d,e,c)}function J(a,b,c,d){var e,f;return f=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}],e=E(a,b,c),G(e,f,d)}function K(a,b,c,d){var e,f,g,h,i,j;if(e=new n(a,b),c-=1,g=[".notdef"],f=e.parseCard8(),0===f)for(h=0;c>h;h+=1)i=e.parseSID(),g.push(F(d,i));else if(1===f)for(;g.length<=c;)for(i=e.parseSID(),j=e.parseCard8(),h=0;j>=h;h+=1)g.push(F(d,i)),i+=1;else{if(2!==f)throw new Error("Unknown charset format "+f);for(;g.length<=c;)for(i=e.parseSID(),j=e.parseCard16(),h=0;j>=h;h+=1)g.push(F(d,i)),i+=1}return g}function L(a,b,c){var d,e,f,g,h,i,j,k,l,m;if(d={},e=new n(a,b),f=e.parseCard8(),0===f)for(g=e.parseCard8(),h=0;g>h;h+=1)i=e.parseCard8(),d[i]=h;else{if(1!==f)throw new Error("Unknown encoding format "+f);for(j=e.parseCard8(),i=1,h=0;j>h;h+=1)for(k=e.parseCard8(),l=e.parseCard8(),m=k;k+l>=m;m+=1)d[m]=i,i+=1}return new p(d,c)}function M(a,c,d){function e(){var a;a=i.length%2!==0,a&&!k&&(l=i.shift()+c.nominalWidthX),j+=i.length>>1,i.length=0,k=!0}function f(a){var b,h,s,u,v,w,x;for(b=0;b<a.length;)switch(t=a[b],b+=1,t){case 1:e();break;case 3:e();break;case 4:i.length>1&&!k&&(l=i.shift()+c.nominalWidthX,k=!0),n+=i.pop(),g.moveTo(m,-n);break;case 5:for(;i.length>0;)m+=i.shift(),n+=i.shift(),g.lineTo(m,-n);break;case 6:for(;i.length>0&&(m+=i.shift(),g.lineTo(m,-n),0!==i.length);)n+=i.shift(),g.lineTo(m,-n);break;case 7:for(;i.length>0&&(n+=i.shift(),g.lineTo(m,-n),0!==i.length);)m+=i.shift(),g.lineTo(m,-n);break;case 8:for(;i.length>0;)o=m+i.shift(),p=n+i.shift(),q=o+i.shift(),r=p+i.shift(),m=q+i.shift(),n=r+i.shift(),g.curveTo(o,-p,q,-r,m,-n);break;case 10:w=i.pop()+c.subrsBias,x=c.subrs[w],x&&f(x);break;case 11:return;case 12:t=a[b],b+=1;break;case 14:i.length>0&&!k&&(l=i.shift()+c.nominalWidthX,k=!0),g.closePath();break;case 18:e();break;case 19:case 20:e(),b+=j+7>>3;break;case 21:i.length>2&&!k&&(l=i.shift()+c.nominalWidthX,k=!0),n+=i.pop(),m+=i.pop(),g.moveTo(m,-n);break;case 22:i.length>1&&!k&&(l=i.shift()+c.nominalWidthX,k=!0),m+=i.pop(),g.moveTo(m,-n);break;case 23:e();break;case 24:for(;i.length>2;)o=m+i.shift(),p=n+i.shift(),q=o+i.shift(),r=p+i.shift(),m=q+i.shift(),n=r+i.shift(),g.curveTo(o,-p,q,-r,m,-n);m+=i.shift(),n+=i.shift(),g.lineTo(m,-n);break;case 25:for(;i.length>6;)m+=i.shift(),n+=i.shift(),g.lineTo(m,-n);o=m+i.shift(),p=n+i.shift(),q=o+i.shift(),r=p+i.shift(),m=q+i.shift(),n=r+i.shift(),g.curveTo(o,-p,q,-r,m,-n);break;case 26:for(i.length%2&&(m+=i.shift());i.length>0;)o=m,p=n+i.shift(),q=o+i.shift(),r=p+i.shift(),m=q,n=r+i.shift(),g.curveTo(o,-p,q,-r,m,-n);break;case 27:for(i.length%2&&(n+=i.shift());i.length>0;)o=m+i.shift(),p=n,q=o+i.shift(),r=p+i.shift(),m=q+i.shift(),n=r,g.curveTo(o,-p,q,-r,m,-n);break;case 28:h=a[b],s=a[b+1],i.push((h<<24|s<<16)>>16),b+=2;break;case 29:w=i.pop()+c.gsubrsBias,x=c.gsubrs[w],x&&f(x);break;case 30:for(;i.length>0&&(o=m,p=n+i.shift(),q=o+i.shift(),r=p+i.shift(),m=q+i.shift(),n=r+(1===i.length?i.shift():0),g.curveTo(o,-p,q,-r,m,-n),0!==i.length);)o=m+i.shift(),p=n,q=o+i.shift(),r=p+i.shift(),n=r+i.shift(),m=q+(1===i.length?i.shift():0),g.curveTo(o,-p,q,-r,m,-n);break;case 31:for(;i.length>0&&(o=m+i.shift(),p=n,q=o+i.shift(),r=p+i.shift(),n=r+i.shift(),m=q+(1===i.length?i.shift():0),g.curveTo(o,-p,q,-r,m,-n),0!==i.length);)o=m,p=n+i.shift(),q=o+i.shift(),r=p+i.shift(),m=q+i.shift(),n=r+(1===i.length?i.shift():0),g.curveTo(o,-p,q,-r,m,-n);break;default:if(32>t)throw new Error("Glyph "+d+": unknown operator "+t);247>t?i.push(t-139):251>t?(h=a[b],b+=1,i.push(256*(t-247)+h+108)):255>t?(h=a[b],b+=1,i.push(256*-(t-251)-h-108)):(h=a[b],s=a[b+1],u=a[b+2],v=a[b+3],b+=4,i.push((h<<24|s<<16|u<<8|v)/65536))}}var g,h,i,j,k,l,m,n,o,p,q,r,t;return g=new b,i=[],j=0,k=!1,l=c.nominalWidthX,m=n=0,f(a),h=new s(c,d),h.path=g,h.advanceWidth=l,h}function N(a){var b;return b=a.length<1240?107:a.length<33900?1131:32768}function O(a,b,c){var d,e,f,g,h,i,j,k,m,n,o,q,r,s;for(d=H(a,b),e=A(a,d.endOffset,l),f=A(a,e.endOffset),g=A(a,f.endOffset,l),h=A(a,g.endOffset),c.gsubrs=h.objects,c.gsubrsBias=N(c.gsubrs),i=I(f.objects[0],0,g.objects),j=b+i["private"][1],k=J(a,j,i["private"][0],g.objects),c.defaultWidthX=k.defaultWidthX,c.nominalWidthX=k.nominalWidthX,m=j+k.subrs,n=A(a,m),c.subrs=n.objects,c.subrsBias=N(c.subrs),q=A(a,b+i.charStrings),c.nGlyphs=q.objects.length,r=K(a,b+i.charset,c.nGlyphs,g.objects),c.cffEncoding=0===i.encoding?new p($,r):1===i.encoding?new p(_,r):L(a,b+i.encoding,r),c.encoding=c.encoding||c.cffEncoding,c.glyphs=[],s=0;s<c.nGlyphs;s+=1)o=q.objects[s],c.glyphs.push(M(o,c,s))}function P(a,b,c,d,e){var f,g,h,i,j;for(f=new n(a,b),g=0;d>g;g+=1)c>g&&(i=f.parseUShort(),j=f.parseShort()),h=e[g],h.advanceWidth=i,h.leftSideBearing=j}function Q(b,c){var d,e,f,g,h,i,j,k,l,m;for(d={},e=new n(b,c),f=e.parseUShort(),a(0===f,"Unsupported kern table version."),g=e.parseUShort(),h=e.parseUShort(),a(0===h,"Unsupported kern sub-table version."),e.skip("uShort",2),i=e.parseUShort(),e.skip("uShort",3),j=0;i>j;j+=1)k=e.parseUShort(),l=e.parseUShort(),m=e.parseShort(),d[k+","+l]=m;return d}function R(a,b){ab=ab||require("fs"),ab.readFile(a,function(a,c){return a?b(a.message):void b(null,T(c))})}function S(a,b){var c=new XMLHttpRequest;c.open("get",a,!0),c.responseType="arraybuffer",c.onload=function(){return 200!==c.status?b("Font could not be loaded: "+c.statusText):b(null,c.response)},c.send()}function T(a){var b,c=new ArrayBuffer(a.length),d=new Uint8Array(c);for(b=0;b<a.length;b+=1)d[b]=a[b];return c}var U,V,W,X,Y,Z,$,_,ab;U=this,V={},b.prototype.moveTo=function(a,b){this.commands.push({type:"M",x:a,y:b})},b.prototype.lineTo=function(a,b){this.commands.push({type:"L",x:a,y:b})},b.prototype.curveTo=b.prototype.bezierCurveTo=function(a,b,c,d,e,f){this.commands.push({type:"C",x1:a,y1:b,x2:c,y2:d,x:e,y:f})},b.prototype.quadTo=b.prototype.quadraticCurveTo=function(a,b,c,d){this.commands.push({type:"Q",x1:a,y1:b,x:c,y:d})},b.prototype.close=b.prototype.closePath=function(){this.commands.push({type:"Z"})},b.prototype.extend=function(a){a.commands&&(a=a.commands),Array.prototype.push.apply(this.commands,a)},b.prototype.draw=function(a){var b,c;for(a.beginPath(),b=0;b<this.commands.length;b+=1)c=this.commands[b],"M"===c.type?a.moveTo(c.x,c.y):"L"===c.type?a.lineTo(c.x,c.y):"C"===c.type?a.bezierCurveTo(c.x1,c.y1,c.x2,c.y2,c.x,c.y):"Q"===c.type?a.quadraticCurveTo(c.x1,c.y1,c.x,c.y):"Z"===c.type&&a.closePath();this.fill&&(a.fillStyle=this.fill,a.fill()),this.stroke&&(a.strokeStyle=this.stroke,a.lineWidth=this.strokeWidth,a.stroke())},W=d,X=e,Y={"byte":1,uShort:2,"short":2,uLong:4,fixed:4,longDateTime:8,tag:4},n.prototype.parseByte=function(){var a;return a=this.isDataView?d(this.data,this.offset+this.relativeOffset):this.data[this.offset+this.relativeOffset],this.relativeOffset+=1,a},n.prototype.parseCard8=n.prototype.parseByte,n.prototype.parseUShort=function(){var a=e(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=2,a},n.prototype.parseCard16=n.prototype.parseUShort,n.prototype.parseSID=n.prototype.parseUShort,n.prototype.parseShort=function(){var a=f(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=2,a},n.prototype.parseULong=function(){var a=g(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,a},n.prototype.skip=function(a,b){void 0===b&&(b=1),this.relativeOffset+=Y[a]*b},o.prototype.charToGlyphIndex=function(a){var b,c,d,e,f;for(b=this.cmap,c=a.charCodeAt(0),d=0,f=b.length-1;f>d;)e=d+f+1>>1,c<b[e].start?f=e-1:d=e;return b[d].start<=c&&c<=b[d].end?b[d].idDelta+(b[d].ids?b[d].ids[c-b[d].start]:c)&65535:0},p.prototype.charToGlyphIndex=function(a){var b,c;return b=a.charCodeAt(0),c=this.encoding[b],this.charset.indexOf(c)},q.prototype.draw=function(a,b,c,d){this.getPath(b,c,d).draw(a)},q.prototype.drawPoints=function(a,b,c,d){function e(b,c,d,e){var f,g=2*Math.PI;for(a.beginPath(),f=0;f<b.length;f+=1)a.moveTo(c+b[f].x*e,d+-b[f].y*e),a.arc(c+b[f].x*e,d+-b[f].y*e,2,0,g,!1);a.closePath(),a.fill()}var f,g,h,i,j,k,l,m;if(b=void 0!==b?b:0,c=void 0!==c?c:0,d=void 0!==d?d:24,f=1/this.font.unitsPerEm*d,j=[],k=[],this.points)for(g=this.points,h=0;h<g.length;h+=1)i=g[h],i.onCurve?j.push(i):k.push(i);else for(l=this.path,h=0;h<l.commands.length;h+=1)m=l.commands[h],void 0!==m.x&&j.push({x:m.x,y:-m.y}),void 0!==m.x1&&k.push({x:m.x1,y:-m.y1}),void 0!==m.x2&&k.push({x:m.x2,y:-m.y2});a.fillStyle="blue",e(j,b,c,f),a.fillStyle="red",e(k,b,c,f)},q.prototype.drawMetrics=function(a,b,d,e){var f;b=void 0!==b?b:0,d=void 0!==d?d:0,e=void 0!==e?e:24,f=1/this.font.unitsPerEm*e,a.lineWidth=1,a.strokeStyle="black",c(a,b,-1e4,b,1e4),c(a,-1e4,d,1e4,d),a.strokeStyle="blue",c(a,b+this.xMin*f,-1e4,b+this.xMin*f,1e4),c(a,b+this.xMax*f,-1e4,b+this.xMax*f,1e4),c(a,-1e4,d+-this.yMin*f,1e4,d+-this.yMin*f),c(a,-1e4,d+-this.yMax*f,1e4,d+-this.yMax*f),a.strokeStyle="green",c(a,b+this.advanceWidth*f,-1e4,b+this.advanceWidth*f,1e4)},r.prototype=new q,r.prototype.constructor=r,r.prototype.getContours=function(){var b,c,d,e;for(b=[],c=[],d=0;d<this.points.length;d+=1)e=this.points[d],c.push(e),e.lastPointOfContour&&(b.push(c),c=[]);return a(0===c.length,"There are still points left in the current contour."),b},r.prototype.getPath=function(a,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q;if(a=void 0!==a?a:0,c=void 0!==c?c:0,d=void 0!==d?d:72,e=1/this.font.unitsPerEm*d,f=new b,!this.points)return f;for(g=this.getContours(),h=0;h<g.length;h+=1){for(k=g[h],m=k[0],q=k[k.length-1],m.onCurve?(p=null,i=!0):(m=q.onCurve?q:{x:(m.x+q.x)/2,y:(m.y+q.y)/2},p=m,i=!1),f.moveTo(a+m.x*e,c+-m.y*e),j=i?1:0;j<k.length;j+=1)if(l=k[j],n=0===j?m:k[j-1],n.onCurve&&l.onCurve)f.lineTo(a+l.x*e,c+-l.y*e);else if(n.onCurve&&!l.onCurve)p=l;else if(n.onCurve||l.onCurve){if(n.onCurve||!l.onCurve)throw new Error("Invalid state.");f.quadraticCurveTo(a+p.x*e,c+-p.y*e,a+l.x*e,c+-l.y*e),p=null}else o={x:(n.x+l.x)/2,y:(n.y+l.y)/2},f.quadraticCurveTo(a+n.x*e,c+-n.y*e,a+o.x*e,c+-o.y*e),p=l;m!==q&&(p?f.quadraticCurveTo(a+p.x*e,c+-p.y*e,a+m.x*e,c+-m.y*e):f.lineTo(a+m.x*e,c+-m.y*e))}return f.closePath(),f},s.prototype=new q,s.prototype.constructor=s,s.prototype.getPath=function(a,c,d){var e,f,g,h;for(a=void 0!==a?a:0,c=void 0!==c?c:0,d=void 0!==d?d:72,e=1/this.font.unitsPerEm*d,f=new b,g=0;g<this.path.commands.length;g+=1)h=this.path.commands[g],"M"===h.type?f.moveTo(a+h.x*e,c+h.y*e):"L"===h.type?f.lineTo(a+h.x*e,c+h.y*e):"C"===h.type?f.bezierCurveTo(a+h.x1*e,c+h.y1*e,a+h.x2*e,c+h.y2*e,a+h.x*e,c+h.y*e):"Q"===h.type?f.quadraticCurveTo(a+h.x1*e,c+h.y1*e,a+h.x*e,c+h.y*e):"Z"===h.type&&f.closePath();return f},t.prototype.charToGlyphIndex=function(a){return this.encoding.charToGlyphIndex(a)},t.prototype.charToGlyph=function(a){var b,c;return b=this.charToGlyphIndex(a),c=this.glyphs[b],c||(c=this.glyphs[0]),c},t.prototype.stringToGlyphs=function(a){var b,c,d;for(d=[],b=0;b<a.length;b+=1)c=a[b],d.push(this.charToGlyph(c));return d},t.prototype.getKerningValue=function(a,b){return a=a.index||a,b=b.index||b,this.kerningPairs[a+","+b]||0},t.prototype.forEachGlyph=function(a,b,c,d,e,f){var g,h,i,j,k,l;if(this.supported)for(b=void 0!==b?b:0,c=void 0!==c?c:0,d=void 0!==d?d:72,e=e||{},g=void 0===e.kerning?!0:e.kerning,h=1/this.unitsPerEm*d,i=this.stringToGlyphs(a),j=0;j<i.length;j+=1)k=i[j],f(k,b,c,d,e),k.advanceWidth&&(b+=k.advanceWidth*h),g&&j<i.length-1&&(l=this.getKerningValue(k,i[j+1]),b+=l*h)},t.prototype.getPath=function(a,c,d,e,f){var g=new b;return this.forEachGlyph(a,c,d,e,f,function(a,b,c,d){var e=a.getPath(b,c,d);g.extend(e)}),g},t.prototype.draw=function(a,b,c,d,e,f){this.getPath(b,c,d,e,f).draw(a)},t.prototype.drawPoints=function(a,b,c,d,e,f){this.forEachGlyph(b,c,d,e,f,function(b,c,d,e){b.drawPoints(a,c,d,e)})},t.prototype.drawMetrics=function(a,b,c,d,e,f){this.forEachGlyph(b,c,d,e,f,function(b,c,d,e){b.drawMetrics(a,c,d,e)})},Z=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],$=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],_=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],V.parse=function(b){var c,d,j,k,l,m,n,o,p,q,r,s,u,v,w,A,B,C;if(c=new t,d=new DataView(b,0),j=h(d,0),1===j)c.outlinesFormat="truetype";else{if(j=i(d,0),"OTTO"!==j)throw new Error("Unsupported OpenType version "+j);c.outlinesFormat="cff"}for(k=e(d,4),m=12,l=0;k>l;l+=1){switch(n=i(d,m),o=g(d,m+8),n){case"cmap":c.encoding=z(d,o),c.encoding||(c.supported=!1);break;case"head":v=g(d,o+12),a(1594834165===v,"Font header has wrong magic number."),c.unitsPerEm=e(d,o+18),w=e(d,o+50);break;case"hhea":c.ascender=f(d,o+4),c.descender=f(d,o+6),c.numberOfHMetrics=e(d,o+34);break;case"hmtx":p=o;break;case"maxp":c.numGlyphs=A=e(d,o+4);break;case"glyf":q=o;break;case"loca":r=o;break;case"CFF ":s=o;break;case"kern":u=o}m+=16}return q&&r?(C=0===w,B=y(d,r,A,C),c.glyphs=x(d,q,B,c),P(d,p,c.numberOfHMetrics,c.numGlyphs,c.glyphs),c.kerningPairs=u?Q(d,u):{}):s?(O(d,s,c),c.kerningPairs={}):c.supported=!1,c},V.load=function(a,b){var c="undefined"!=typeof module&&module.exports?R:S;c(a,function(a,c){if(a)return b(a);var d=V.parse(c);return d.supported?b(null,d):b("Font is not supported (is this a Postscript font?)")})},"function"==typeof define&&define.amd?define([],function(){return V}):"object"==typeof module&&module.exports?module.exports=V:U.opentype=V}).bind(this)();